/*!
 * flexitask-client (undefined)
 * Copyright 2016 2Pi Digital Technologies
 * Licensed under the undefined
 */
!function(t,n,i){"use strict";function e(t,n){var i;for(var e in t)if(i=n(e,t[e]),i===!1)break}function r(t){return"function"==typeof t||!1}function s(t,n){for(var i in n)t[i]=n[i];return t}var a=n.Breakpoints=function(){a.define.apply(a,arguments)};a.defaults={xs:{min:0,max:767},sm:{min:768,max:991},md:{min:992,max:1199},lg:{min:1200,max:1/0}};var o=a.mediaBuilder={min:function(t,n){return"(min-width: "+t+n+")"},max:function(t,n){return"(max-width: "+t+n+")"},between:function(t,n,i){return"(min-width: "+t+i+") and (max-width: "+n+i+")"},get:function(t,n,i){return i||(i="px"),0===t?this.max(n,i):n===1/0?this.min(t,i):this.between(t,n,i)}},h=function(){var t=[];return{length:0,add:function(n,i,e){t.push({fn:n,data:i||{},one:e||0}),this.length++},remove:function(n){for(var i=0;i<t.length;i++)t[i].fn===n&&(t.splice(i,1),this.length--,i--)},empty:function(){t=[],this.length=0},call:function(i,e,s){e||(e=this.length-1);var a=t[e];r(s)?s.call(this,i,a,e):r(a.fn)&&a.fn.call(i||n,a.data),a.one&&(delete t[e],this.length--)},fire:function(n,i){for(var e in t)this.call(n,e,i)}}},c={current:null,callbacks:new h,trigger:function(t){var n=this.current;this.current=t,this.callbacks.fire(t,function(i,e){r(e.fn)&&e.fn.call({current:t,previous:n},e.data)})},one:function(t,n){return this.on(t,n,1)},on:function(t,n,e){return null==n&&r(t)&&(n=t,t=i),r(n)?void this.callbacks.add(n,t,e):this},off:function(t){null==t&&this.callbacks.empty()}},u=a.mediaQuery=function(t,n){this.name=t,this.media=n,this.initialize.apply(this)};u.prototype={constructor:u,initialize:function(){this.callbacks={enter:new h,leave:new h},this.mql=n.matchMedia&&n.matchMedia(this.media)||{matches:!1,media:this.media,addListener:function(){},removeListener:function(){}};var t=this;this.mqlListener=function(n){var i=n.matches&&"enter"||"leave";t.callbacks[i].fire(t)},this.mql.addListener(this.mqlListener)},on:function(t,n,e,s){var a;if("object"==typeof t){for(a in t)this.on(a,n,t[a],s);return this}return null==e&&r(n)&&(e=n,n=i),r(e)?(t in this.callbacks&&(this.callbacks[t].add(e,n,s),this.isMatched()&&"enter"===t&&this.callbacks[t].call(this)),this):this},one:function(t,n,i){return this.on(t,n,i,1)},off:function(t,n){var i;if("object"==typeof t){for(i in t)this.off(i,t[i]);return this}return null==t&&(this.callbacks.enter.empty(),this.callbacks.leave.empty()),t in this.callbacks&&(n?this.callbacks[t].remove(n):this.callbacks[t].empty()),this},isMatched:function(){return this.mql.matches},destory:function(){this.off()}};var f=function(t,n,i,e){this.name=t,this.min=n?n:0,this.max=i?i:1/0,this.media=o.get(this.min,this.max,e),this.initialize.apply(this);var r=this;this.changeListener=function(){r.isMatched()&&c.trigger(r)},this.isMatched()&&(c.current=this),this.mql.addListener(this.changeListener)};f.prototype=u.prototype,f.prototype.constructor=f,s(f.prototype,{destory:function(){this.off(),this.mql.removeListener(this.changeHander)}});var l=function(t){this.name=t,this.sizes=[];var n=this,i=[];e(t.split(" "),function(t,e){var r=a.get(e);r&&(n.sizes.push(r),i.push(r.media))}),this.media=i.join(","),this.initialize.apply(this)};l.prototype=u.prototype,l.prototype.constructor=l;var d={},m={};a=s(a,{defined:!1,define:function(t,n){this.defined&&this.destory(),t||(t=a.defaults),this.options=s(n||{},{unit:"px"});for(var i in t)this.set(i,t[i].min,t[i].max,this.options.unit);this.defined=!0},destory:function(){e(d,function(t,n){n.destory()}),d={},c.current=null},is:function(t){var n=this.get(t);return n?n.isMatched():null},all:function(){var t=[];return e(d,function(n){t.push(n)}),t},set:function(t,n,i,e){var r=this.get(t);return r&&r.destory(),d[t]=new f(t,n||null,i||null,e||null),d[t]},get:function(t){return d.hasOwnProperty(t)?d[t]:null},getUnion:function(t){return m.hasOwnProperty(t)?m[t]:(m[t]=new l(t),m[t])},getMin:function(t){var n=this.get(t);return n?n.min:null},getMax:function(t){var n=this.get(t);return n?n.max:null},current:function(){return c.current},getMedia:function(t){var n=this.get(t);return n?n.media:null},on:function(t,n,i,e,r){if("change"===t)return e=i,i=n,c.on(i,e,r);if(t.indexOf(" ")){var s=this.getUnion(t);s&&s.on(n,i,e,r)}else{var a=this.get(t);a&&a.on(n,i,e,r)}return this},one:function(t,n,i,e){return this.on(t,n,i,e,1)},off:function(t,n,i){if("change"===t)return c.off(n);if(t.indexOf(" ")){var e=this.getUnion(t);e&&e.off(n,i)}else{var r=this.get(t);r&&r.off(n,i)}return this}})}(document,window);