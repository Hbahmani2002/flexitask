/*!
 * flexitask-client (undefined)
 * Copyright 2016 2Pi Digital Technologies
 * Licensed under the undefined
 */
!function(e){"function"==typeof define&&define.amd?define(["knockout","jquery","exports"],e):e(window.ko,window.jQuery,ko.editable={})}(function(e,n,i){e.editable=i;var t=t||{};e.bindingHandlers.editable={init:function(i,t,o,a,s){function r(e,n,i){var t=typeof n;return"function"==t?n(e):"string"==t?e[n]:i}var u=n(i),l=t(),d=o(),v=d.editableOptions||{};v.value=e.utils.unwrapObservable(l),v.name||n.each(s.$data,function(e,n){return n==l?(v.name=e,!1):void 0}),!v.validate&&l.isValid&&(v.validate=function(n){var i=l();l(n);var t=l.isValid()?null:e.utils.unwrapObservable(l.error);return l(i),t}),"select"!==v.type&&"checklist"!==v.type&&"typeahead"!==v.type||v.source||!v.options||(v.optionsCaption&&(v.prepend=v.optionsCaption),v.source=function(){var n;return n=v.options&&v.options.length?v.options:v.options(),e.utils.arrayMap(n,function(n){var i=v.optionsValue?r(n,v.optionsValue,n):n,t=v.optionsText?r(n,v.optionsText,t):n;return{value:e.utils.unwrapObservable(i),text:e.utils.unwrapObservable(t)}})}),v.visible&&e.isObservable(v.visible)&&(v.toggle="manual");var p=u.editable(v);e.isObservable(l)&&p.on("save.ko",function(e,n){l(n.newValue)}),v.save&&p.on("save",v.save),e.computed({read:function(){var n=e.utils.unwrapObservable(t());null===n&&(n=""),p.editable("setValue",n,!0)},owner:this,disposeWhenNodeIsRemoved:i}),v.visible&&e.isObservable(v.visible)&&(e.computed({read:function(){var n=e.utils.unwrapObservable(v.visible());n&&p.editable("show")},owner:this,disposeWhenNodeIsRemoved:i}),p.on("hidden.ko",function(e,n){v.visible(!1)}))}};var o=function(){return{configure:function(e){t=e}}}();e.utils.extend(e.editable,o)});